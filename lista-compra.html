<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lista de la compra</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<h1>ğŸ›’ Lista de la compra</h1>

<!-- Buscador -->
<input type="text" id="busqueda" placeholder="ğŸ” Buscar alimento...">

<!-- Contador -->
<p id="contador">0/0 comprados</p>

<!-- Botones de control -->
<div style="text-align:center; margin-bottom:15px;">
  <button class="btn-control" onclick="marcarTodo(true)">âœ” Marcar todo</button>
  <button class="btn-control" onclick="marcarTodo(false)">âŒ Reiniciar</button>
</div>

<!-- CategorÃ­as -->
<h2 onclick="toggleLista('proteinas')">ğŸ¥© ProteÃ­nas â–¼</h2>
<ul id="proteinas">
  <li><input type="checkbox"> Pechugas de pollo (5 kg)</li>
  <li><input type="checkbox"> Pavo en filetes/picado (3 kg)</li>
  <li><input type="checkbox"> Huevos (10 docenas)</li>
  <li><input type="checkbox"> AtÃºn en lata (20 latas)</li>
  <li><input type="checkbox"> SalmÃ³n fresco/congelado (1,5 kg)</li>
  <li><input type="checkbox"> Merluza o pescado blanco (1,5 kg)</li>
  <li><input type="checkbox"> Carne magra de ternera (1,5 kg)</li>
  <li><input type="checkbox"> Queso fresco batido 0% (4 kg)</li>
  <li><input type="checkbox"> Yogur griego natural sin azÃºcar (2 kg)</li>
  <li><input type="checkbox"> Clara de huevo lÃ­quida (2 litros)</li>
</ul>

<h2 onclick="toggleLista('carbohidratos')">ğŸš Carbohidratos â–¼</h2>
<ul id="carbohidratos">
  <li><input type="checkbox"> Avena (3 kg)</li>
  <li><input type="checkbox"> Arroz integral (5 kg)</li>
  <li><input type="checkbox"> Pasta integral (4 kg)</li>
  <li><input type="checkbox"> Pan integral (8 barras)</li>
  <li><input type="checkbox"> Patatas (5 kg)</li>
  <li><input type="checkbox"> Boniatos/batatas (3 kg)</li>
  <li><input type="checkbox"> Tortillas de trigo integral (2 paquetes)</li>
  <li><input type="checkbox"> Harina integral (1 kg)</li>
</ul>

<h2 onclick="toggleLista('grasas')">ğŸ¥‘ Grasas saludables â–¼</h2>
<ul id="grasas">
  <li><input type="checkbox"> Aguacates (10 uds)</li>
  <li><input type="checkbox"> Aceite de oliva virgen extra (1,5 L)</li>
  <li><input type="checkbox"> Frutos secos variados (2 kg)</li>
  <li><input type="checkbox"> Semillas de chÃ­a o lino (500 g)</li>
  <li><input type="checkbox"> Crema de cacahuete (1 kg)</li>
</ul>

<h2 onclick="toggleLista('frutas')">ğŸŒ Frutas â–¼</h2>
<ul id="frutas">
  <li><input type="checkbox"> PlÃ¡tanos (40-50 uds)</li>
  <li><input type="checkbox"> Manzanas (30 uds)</li>
  <li><input type="checkbox"> Naranjas (20 uds)</li>
  <li><input type="checkbox"> Fresas/frutos rojos (1,5 kg)</li>
  <li><input type="checkbox"> Uvas o mandarinas (2 kg)</li>
</ul>

<h2 onclick="toggleLista('verduras')">ğŸ¥¦ Verduras â–¼</h2>
<ul id="verduras">
  <li><input type="checkbox"> Espinacas (2 kg)</li>
  <li><input type="checkbox"> BrÃ³coli (2 kg)</li>
  <li><input type="checkbox"> Pimientos (2 kg)</li>
  <li><input type="checkbox"> Calabacines (1,5 kg)</li>
  <li><input type="checkbox"> Zanahorias (2 kg)</li>
  <li><input type="checkbox"> Tomates (2 kg)</li>
  <li><input type="checkbox"> Lechuga (1,5 kg)</li>
  <li><input type="checkbox"> Cebollas (1,5 kg)</li>
</ul>

<h2 onclick="toggleLista('lacteos')">ğŸ¥› LÃ¡cteos â–¼</h2>
<ul id="lacteos">
  <li><input type="checkbox"> Leche (12 litros)</li>
  <li><input type="checkbox"> Queso fresco batido</li>
  <li><input type="checkbox"> Yogur griego natural</li>
</ul>

<h2 onclick="toggleLista('liquidos')">ğŸ¥¤ LÃ­quidos e HidrataciÃ³n + EnergÃ­a â–¼</h2>
<ul id="liquidos">
  <li><input type="checkbox"> Botellas pequeÃ±as de agua mineral (0,5L) - 12 uds</li>
  <li><input type="checkbox"> Agua de coco natural (4 botellas)</li>
  <li><input type="checkbox"> Bebida isotÃ³nica baja en azÃºcar (Aquarius Zero, Powerade Zero) - 6 botellas</li>
  <li><input type="checkbox"> Agua saborizada natural (limÃ³n, pepino, menta)</li>
  <li><input type="checkbox"> Infusiones suaves (manzanilla, rooibos, poleo menta) - 20 sobres</li>
  <li><input type="checkbox"> Zumo natural sin azÃºcar (naranja o manzana) - 3 litros</li>
  <li><input type="checkbox"> Leche semidesnatada o bebida vegetal (avena, almendra) - 8 litros</li>
  <li><input type="checkbox"> Bebida pre-entreno natural (cafÃ© frÃ­o suave, tÃ© verde sin azÃºcar)</li>
  <li><input type="checkbox"> Monster Zero o Reign (mÃ¡x. 1-2 por semana para gym)</li>
  <li><input type="checkbox"> Bebida con electrolitos sin azÃºcar (ej. Nuun, Hydrant Zero)</li>
</ul>

<h2 onclick="toggleLista('suplementos')">ğŸ’Š Suplementos â–¼</h2>
<ul id="suplementos">
  <li><input type="checkbox"> Vitamina C + Zinc</li>
  <li><input type="checkbox"> Magnesio + Calcio</li>
  <li><input type="checkbox"> ProteÃ­na whey (2 kg)</li>
  <li><input type="checkbox"> Creatina monohidrato (500 g)</li>
  <li><input type="checkbox"> MultivitamÃ­nico</li>
</ul>

<!-- BotÃ³n volver -->
<a href="index.html" class="volver">â¬… Volver al inicio</a>

<script>
  // Reinicio automÃ¡tico mensual
  const mesActual = new Date().getMonth();
  if (localStorage.getItem("mesLista") != mesActual) {
    localStorage.clear();
    localStorage.setItem("mesLista", mesActual);
  }

  // Guardar estado de los checkboxes
  const checks = document.querySelectorAll('input[type="checkbox"]');
  checks.forEach((check, i) => {
    if (localStorage.getItem("compra" + i) === "true") check.checked = true;
    check.addEventListener("change", () => {
      localStorage.setItem("compra" + i, check.checked);
      actualizarContador();
    });
  });

  // Contador de progreso
  function actualizarContador() {
    const total = checks.length;
    const marcados = [...checks].filter(c => c.checked).length;
    document.getElementById("contador").textContent = `${marcados}/${total} comprados`;
  }
  actualizarContador();

  // Marcar o reiniciar todo
  function marcarTodo(estado) {
    checks.forEach((c, i) => {
      c.checked = estado;
      localStorage.setItem("compra" + i, estado);
    });
    actualizarContador();
  }

  // Plegar y desplegar categorÃ­as
  function toggleLista(id) {
    const lista = document.getElementById(id);
    lista.style.display = (lista.style.display === "none") ? "block" : "none";
  }

  // BÃºsqueda
  document.getElementById("busqueda").addEventListener("keyup", function () {
    const filtro = this.value.toLowerCase();
    document.querySelectorAll("ul li").forEach(li => {
      li.style.display = li.textContent.toLowerCase().includes(filtro) ? "" : "none";
    });
  });
</script>

</body>
</html>
