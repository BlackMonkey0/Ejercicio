<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <title>Tu Entrenador y Dietista</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ffa726">
</head>
<body>

  <header>
    <h1>Plan TransformaciÃ³n 55 â†’ 80kg</h1>
    <p>Hasta el 5 de diciembre</p>
  </header>

  <main>
    <!-- Calendario -->
    <section id="calendario">
      <h2>ğŸ“… Calendario de Entrenamiento y Comidas</h2>
      <div id="dias"></div>
    </section>

    <!-- Detalle de dÃ­a -->
    <section id="detalle-dia" class="hidden">
      <h2 id="titulo-dia"></h2>
      <div id="comidas"></div>
      <div id="entrenamiento"></div>
      <button onclick="cerrarDetalle()">Cerrar</button>
    </section>

    <!-- Progreso -->
    <section id="progreso">
      <h2>ğŸ“ˆ Progreso</h2>
      <canvas id="graficoPeso" width="300" height="150"></canvas>
      <canvas id="graficoFuerza" width="300" height="150"></canvas>
      <div id="cuadroIMC" style="margin-top: 20px; font-size: 18px;"></div>
    </section>

    <!-- Progreso visual -->
    <section id="progreso-visual">
      <h2>ğŸ“¸ Progreso Visual (Antes vs DespuÃ©s)</h2>
      <div class="subida-fotos">
        <label for="fotoAntes">Foto Semana 1 (Antes):
          <input type="file" id="fotoAntes" accept="image/*" onchange="subirFoto(event, 'antes')">
        </label>
        <label for="fotoDespues">Foto Semana Actual (DespuÃ©s):
          <input type="file" id="fotoDespues" accept="image/*" onchange="subirFoto(event, 'despues')">
        </label>
      </div>
      <div id="comparador" class="hidden">
        <div class="container-comparador">
          <div class="img-container">
            <img id="img-antes" alt="Foto antes">
            <img id="img-despues" alt="Foto despuÃ©s">
            <input type="range" min="0" max="100" value="50" id="sliderComparador">
          </div>
        </div>
      </div>
    </section>

    <!-- BotÃ³n nutriciÃ³n -->
    <section id="boton-nutricion" style="text-align:center; margin: 30px 0;">
      <button onclick="window.location.href='nutricion.html'" 
              style="padding: 12px 25px; font-size: 16px; background-color: #ffa726; border: none; border-radius: 8px; color: white; cursor: pointer;">
        Ir a Mi NutriciÃ³n ğŸ
      </button>
    </section>

    <!-- BotÃ³n lista de la compra -->
    <section id="boton-lista" style="text-align:center; margin: 30px 0;">
      <button onclick="window.location.href='lista-compra.html'" 
              style="padding: 12px 25px; font-size: 16px; background-color: #4CAF50; border: none; border-radius: 8px; color: white; cursor: pointer;">
        ğŸ›’ Lista de la compra
      </button>
    </section>

    <!-- Registro por voz o foto -->
    <section id="registro-comida">
      <h2>ğŸ½ï¸ Registrar Comida por Voz o Imagen</h2>
      <div class="registro-opciones">
        <button id="grabarAudio">ğŸ™ï¸ Grabar Voz</button>
        <button id="subirFotoPlato">ğŸ“¸ Subir Foto</button>
        <input type="file" id="inputFotoPlato" accept="image/*" style="display:none;" capture="environment">
      </div>
      <div id="resultadoRegistro"></div>
    </section>

     </main>

  <footer>
    <p>&copy; 2025 Tu Plan Personalizado</p>
  </footer>

  <div id="barra-puntos"></div>

  <!-- Scripts principales -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js" defer></script>
  <script src="data.js" defer></script>
  <script src="workouts.js" defer></script>
  <script src="progreso.js" defer></script>
  <script src="main.js" defer></script>
  <script src="progreso-fotos.js" defer></script>
  <script src="nutricion.js" defer></script>
  <script src="recompensas.js" defer></script>

  <!-- Service Worker para GitHub Pages -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./service-worker.js')
          .then(reg => console.log('Service Worker registrado', reg))
          .catch(err => console.log('Error en registro SW:', err));
      });
    }
  </script>

</body>
</html>
